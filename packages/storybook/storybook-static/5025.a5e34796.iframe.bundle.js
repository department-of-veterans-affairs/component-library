"use strict";(self.webpackChunk_department_of_veterans_affairs_storybook=self.webpackChunk_department_of_veterans_affairs_storybook||[]).push([[5025],{"../web-components/dist/esm-es5/va-search-input.entry.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{va_search_input:()=>VaSearchInput});__webpack_require__("../../node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("../../node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("../../node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("../../node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.define-property.js");var _index_c384c57b_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../web-components/dist/esm-es5/index-c384c57b.js"),VaSearchInput=function(){function e(e){var t=this;(0,_index_c384c57b_js__WEBPACK_IMPORTED_MODULE_9__.r)(this,e),this.handleBlur=function(){t.formattedSuggestions.length&&(t.isListboxOpen=!1)},this.handleSubmit=function(){t.inputRef.dispatchEvent(new SubmitEvent("submit",{bubbles:!0,cancelable:!0,composed:!0}))},this.handleInput=function(e){t.value=e.target.value,t.suggestions&&t.updateSuggestions(t.suggestions)},this.handleInputFocus=function(){t.formattedSuggestions.length&&!t.isListboxOpen&&(t.isListboxOpen=!0)},this.handleInputKeyDown=function(e){var n=t.el.shadowRoot.querySelectorAll('[role="option"]');switch(e.key){case"ArrowDown":if(e.preventDefault(),!(null==n?void 0:n.length))return;var o=n[0];t.selectSuggestion(o);break;case"ArrowUp":if(e.preventDefault(),!(null==n?void 0:n.length))return;var i=n[n.length-1];t.selectSuggestion(i);break;case"Enter":t.handleSubmit();break;case"Escape":t.inputRef.value="",t.inputRef.dispatchEvent(new InputEvent("input",{bubbles:!0,composed:!0}));break;case"Tab":t.isListboxOpen=!1}},this.handleButtonClick=function(){t.handleSubmit()},this.handleListboxClick=function(e){var n=t.el.shadowRoot.getElementById("listbox-option-".concat(e));t.inputRef.value=n.innerText,t.inputRef.dispatchEvent(new InputEvent("input",{bubbles:!0,composed:!0})),t.inputRef.removeAttribute("aria-activedescendant"),t.isListboxOpen=!1,t.handleSubmit()},this.handleListboxKeyDown=function(e,n){var o=t.el.shadowRoot.querySelectorAll('[role="option"]');switch(e.key){case"ArrowUp":e.preventDefault(),0===n?t.selectSuggestion(o[o.length-1]):t.selectSuggestion(o[n-1]);break;case"ArrowDown":e.preventDefault(),n===o.length-1?t.selectSuggestion(o[0]):t.selectSuggestion(o[n+1]);break;case"Enter":t.inputRef.value=o[n].innerText,t.inputRef.dispatchEvent(new InputEvent("input",{bubbles:!0,composed:!0})),t.inputRef.focus(),t.inputRef.removeAttribute("aria-activedescendant"),t.isListboxOpen=!1,t.handleSubmit();break;case"Escape":t.inputRef.value="",t.inputRef.dispatchEvent(new InputEvent("input",{bubbles:!0,composed:!0})),t.inputRef.focus(),t.inputRef.removeAttribute("aria-activedescendant"),t.isListboxOpen=!1;break;case"Home":e.preventDefault(),t.inputRef.focus(),t.inputRef.setSelectionRange(0,0);break;case"ArrowRight":case"End":e.preventDefault(),t.inputRef.focus(),t.inputRef.setSelectionRange(t.inputRef.value.length+1,t.inputRef.value.length+1);break;case"ArrowLeft":e.preventDefault(),t.inputRef.focus(),t.inputRef.setSelectionRange(t.inputRef.value.length,t.inputRef.value.length);break;default:t.inputRef.focus()}},this.formatSuggestion=function(e){var n=e.toLowerCase(),o=t.inputRef.value.toLowerCase();return n.includes(o)?(0,_index_c384c57b_js__WEBPACK_IMPORTED_MODULE_9__.h)(_index_c384c57b_js__WEBPACK_IMPORTED_MODULE_9__.F,null,o,(0,_index_c384c57b_js__WEBPACK_IMPORTED_MODULE_9__.h)("strong",null,n.replace(o,""))):(0,_index_c384c57b_js__WEBPACK_IMPORTED_MODULE_9__.h)("strong",null,n)},this.selectSuggestion=function(e){var n=t.el.shadowRoot.querySelector('[aria-selected="true"]');null==n||n.removeAttribute("aria-selected"),e.focus(),e.setAttribute("aria-selected","true"),t.inputRef.setAttribute("aria-activedescendant",e.id)},this.updateSuggestions=function(e){if(!e.length)return t.formattedSuggestions=[],void(t.isListboxOpen=!1);t.formattedSuggestions=e.slice(0,5).sort().map((function(e){return t.formatSuggestion(e)})),t.isListboxOpen=!0},this.formattedSuggestions=[],this.isListboxOpen=void 0,this.buttonText=void 0,this.label="Search",this.suggestions=void 0,this.value=""}return e.prototype.componentDidLoad=function(){var e;Array.isArray(this.suggestions)&&(null===(e=this.suggestions)||void 0===e?void 0:e.length)&&this.updateSuggestions(this.suggestions)},e.prototype.watchValueHandler=function(){this.value=this.inputRef.value},e.prototype.watchSuggestionsHandler=function(e){Array.isArray(e)&&this.updateSuggestions(e)},e.prototype.render=function(){var e=this,t=this,n=t.buttonText,o=t.formattedSuggestions,i=t.handleBlur,a=t.handleButtonClick,r=t.handleInput,s=t.handleInputFocus,u=t.handleInputKeyDown,l=t.handleListboxClick,c=t.handleListboxKeyDown,p=t.isListboxOpen,d=t.label,f=t.value,g=o.length,b=g?"list":"none",v=g?"va-search-listbox":void 0,m=g?p?"true":"false":void 0,x=g?"listbox":void 0,w=g?"combobox":void 0,y=this.el.getAttribute("type")||"text";return(0,_index_c384c57b_js__WEBPACK_IMPORTED_MODULE_9__.h)(_index_c384c57b_js__WEBPACK_IMPORTED_MODULE_9__.H,{onBlur:i},(0,_index_c384c57b_js__WEBPACK_IMPORTED_MODULE_9__.h)("input",{ref:function ref(t){return e.inputRef=t},id:"va-search-input","aria-autocomplete":b,"aria-controls":v,"aria-expanded":m,"aria-haspopup":x,"aria-label":d,autocomplete:"off",onFocus:s,onInput:r,onKeyDown:u,role:w,type:y,value:f}),(0,_index_c384c57b_js__WEBPACK_IMPORTED_MODULE_9__.h)("button",{id:"va-search-button",type:"submit","aria-label":d,onClick:a},(0,_index_c384c57b_js__WEBPACK_IMPORTED_MODULE_9__.h)("i",{"aria-hidden":"true",class:"fa fa-search"}),n&&(0,_index_c384c57b_js__WEBPACK_IMPORTED_MODULE_9__.h)("span",{id:"va-search-button-text"},n)),p&&(0,_index_c384c57b_js__WEBPACK_IMPORTED_MODULE_9__.h)("ul",{id:"va-search-listbox","aria-label":"Search Suggestions",role:"listbox"},o.map((function(e,t){return(0,_index_c384c57b_js__WEBPACK_IMPORTED_MODULE_9__.h)("li",{id:"listbox-option-".concat(t),class:"va-search-suggestion",onClick:function onClick(){return l(t)},onKeyDown:function onKeyDown(e){return c(e,t)},role:"option",tabIndex:-1},e)}))))},Object.defineProperty(e.prototype,"el",{get:function get(){return(0,_index_c384c57b_js__WEBPACK_IMPORTED_MODULE_9__.g)(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"watchers",{get:function get(){return{value:["watchValueHandler"],suggestions:["watchSuggestionsHandler"]}},enumerable:!1,configurable:!0}),e}();VaSearchInput.style="button:not([disabled]):focus,select:not([disabled]):focus,a:not([disabled]):focus,h1:focus,input:not([disabled]):focus,textarea:not([disabled]):focus,[role='option']:focus{outline:2px solid var(--color-gold-light);outline-offset:2px}button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0;border-radius:5px;color:var(--color-white);cursor:pointer;display:inline-block;font-family:var(--font-source-sans);font-size:1.6rem;font-weight:700;line-height:1;padding:1rem 2rem;text-align:center;text-decoration:none}button:not([disabled]):focus,select:not([disabled]):focus,a:not([disabled]):focus,h1:focus,input:not([disabled]):focus,textarea:not([disabled]):focus,[role='option']:focus{outline:2px solid var(--color-gold-light);outline-offset:2px}input,select,textarea{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0.1rem solid var(--color-gray);border-radius:0;-webkit-box-sizing:border-box;box-sizing:border-box;color:var(--color-base);display:block;font-size:1.6rem;height:4.2rem;line-height:1.3;margin:0.2em 0;max-width:46rem;padding:1rem 0.7em;width:100%}:host{display:block;-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;position:relative}#va-search-input{border-color:var(--color-gray);display:inline-block;height:4.8rem;margin:0;max-width:none;min-width:24.8rem;padding:1.2rem 0.8rem}#va-search-input:focus{z-index:1}#va-search-button{-ms-flex-align:center;align-items:center;background-color:var(--color-primary);border-radius:0 3px 3px 0;display:-ms-flexbox;display:flex;height:4.8rem}#va-search-button:focus{z-index:1}#va-search-button:active,#va-search-button:hover{background-color:var(--color-primary-darker)}i::before{content:'\\F002';display:inline-block;font-family:'Font Awesome 5 Free';font-style:normal;font-variant:normal;font-weight:900;line-height:1;text-rendering:auto}#va-search-button-text{margin-left:0.4rem}#va-search-listbox{background-color:var(--color-white);-webkit-box-shadow:0px 2px 6px 1px rgba(20, 20, 20, 0.14);box-shadow:0px 2px 6px 1px rgba(20, 20, 20, 0.14);display:block;left:0;line-height:2.4rem;list-style-type:none;margin:0;padding:0;position:absolute;right:0;top:4.8rem}.va-search-suggestion{cursor:pointer;padding:0.8rem}.va-search-suggestion[aria-selected='true'],.va-search-suggestion:focus,.va-search-suggestion:hover{background-color:var(--color-primary);color:var(--color-white)}"}}]);