/* override browser :focus-visible & formation [href]:focus setting */
*:focus-visible,
*[href]:focus {
  outline: none;
}

/* From the USWDS styles: */
/*   https://github.com/uswds/uswds/blob/3dc296ec56cd621fe52d918701fd94621d96a198/src/stylesheets/core/mixins/_focus.scss#L12-L13 */
.usa-focus,
button:not([disabled]):focus,
button.usa-button.usa-button--outline:not([disabled]):focus,
button.va-button-primary--alternate:not([disabled]):focus,
button.usa-button:not([disabled]):focus, /* override va-button-icon background */
a:not([disabled]):focus,
h1:focus,
#form-question,
[role='option']:focus,
*[tabindex]:focus,

button:not([disabled]):active,
button.usa-button:not([disabled]):active,
a:not([disabled]):active,
[role='option']:active,
*[tabindex]:active {
  /* outline: 2px solid var(--vads-color-action-focus-on-light);
  outline-offset: 2px; */
  color: var(--uswds-system-color-gray-90);
  background-color: var(--uswds-system-color-gray-20);
  box-shadow: 0 4px var(--uswds-system-color-gray-90);
  outline: 2px solid transparent;
  outline-offset: 2px;
}

input:not([disabled]):focus,
select:not([disabled]):focus,
textarea:not([disabled]):focus,
.usa-checkbox [type="checkbox"]:focus + [class*='__label']::before,
.usa-radio [type="radio"]:focus + [class*='__label']::before,

input:not([disabled]):active,
select:not([disabled]):active,
textarea:not([disabled]):active,
.usa-checkbox [type="checkbox"]:active + [class*='__label']::before,
.usa-radio [type="radio"]:active + [class*='__label']::before {
  box-shadow: inset 0 0 0 3px var(--uswds-system-color-gray-90);
  outline: 3px solid var(--uswds-system-color-gray-20);
  outline-offset: 0;
}

.usa-checkbox [type="checkbox"]:focus + [class*='__label']::before,
.usa-radio [type="radio"]:focus + [class*='__label']::before,
.usa-checkbox [type="checkbox"]:active + [class*='__label']::before,
.usa-radio [type="radio"]:active + [class*='__label']::before {
  outline-offset: 2px;
}


button.va-alert-close:not([disabled]):focus,
button.maintenance-banner__close:not([disabled]):focus,
button.va-promo-banner__close:not([disabled]):focus,
button.va-modal-close:not([disabled]):focus {
  background-color: transparent;
  box-shadow: inset 0 0 0 3px var(--uswds-system-color-gray-90);
  outline: 2px solid var(--uswds-system-color-gray-20);
  outline-offset: 4px;
  border-radius: 2rem;
}

button.va-alert-close:not([disabled]):focus {
  padding: .5rem;
  margin: .5rem;
}

button.maintenance-banner__close:not([disabled]):focus {
  outline-offset: 3px;
  padding: .5rem;
  margin: .625rem .75rem 0 0;
}

button.va-promo-banner__close:not([disabled]):focus {
  padding: .25rem .5rem .5rem .5rem;
  margin: .25rem .5rem 0 0;
}

button.va-modal-close:not([disabled]):focus {
  padding: .5rem;
  margin: .5rem;
}

input[type="file"]:not([disabled]):focus {
  outline-width: 5px;
}

.progress-bar:focus {
  background-color: transparent;
  box-shadow: 0 0 3px 3px var(--uswds-system-color-gray-90);
  outline: 4px solid var(--uswds-system-color-gray-20);
  outline-offset: 2px;
}

.va-official-gov-banner:focus-within {
  background-color: var(--uswds-system-color-gray-20);

  .va-official-gov-banner__toggle,
  .va-official-gov-banner__toggle:before {
    background-color: transparent;
  }
}
