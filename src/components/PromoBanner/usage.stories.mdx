import { useState } from 'react';
import { Canvas, Meta } from '@storybook/addon-docs/blocks';

import PromoBanner, { PROMO_BANNER_TYPES } from './PromoBanner';

<Meta title="Library/Banners/PromoBanner/Usage" />

export const Template = args => {
  const [showBanner, setShowBanner] = useState(false);
  const onClose = () => setShowBanner(false);
  return showBanner ? (
    <>
      <PromoBanner {...args} onClose={onClose} />
      <p>See the open banner on the bottom of the page.</p>
    </>
  ) : (
    <button onClick={() => setShowBanner(true)}>Show Banner</button>
  );
};

export const defaultArgs = {
  type: PROMO_BANNER_TYPES.announcement,
  text: 'This is an announcement.',
};


# Promo banners

Promo banners are fixed content used for dismissible announcements such as new tools, news, etc.

## Benefit announcements

Pertains to content focused on benefits: a new tool, a new online benefit application, etc.

<Canvas>
  <Template {...defaultArgs} />
</Canvas>

## Email signup

Points to email signups for various VA updates / alerts / communications.

<Canvas>
  <Template {...defaultArgs} type="email-signup" />
</Canvas>

## News stories

Pertains to newly received or noteworthy information about the VA.

<Canvas>
  <Template {...defaultArgs} type="news" />
</Canvas>



## Guidance

- Fixed to the bottom of the viewport
- In Formation's current version, you will need to implement your own dismiss function

### Do
- Use for information that is safe to dismiss and can be accessed in other parts of VA.gov
- Be succinct
- Allow the user to dismiss
- Retire promo banners after 30 days from initial posting or sooner, as specified by requestor

### Donâ€™t
- Don't use for critical information
- Don't write content that will be more than 3 lines on a mobile device
- Don't prevent user from dismissing
- Use more than one at a time
